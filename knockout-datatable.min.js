!function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};window.DataTable=function(){function d(a,b){var c;if(b||(a instanceof Array?b={}:(b=a,a=[])),this.options={recordWord:b.recordWord||"record",recordWordPlural:b.recordWordPlural,sortDir:b.sortDir||"asc",sortField:b.sortField||void 0,perPage:b.perPage||15,filterFn:b.filterFn||void 0,unsortedClass:b.unsortedClass||"",descSortClass:b.descSortClass||"",ascSortClass:b.ascSortClass||""},this.initObservables(),(c=b.serverSidePagination)&&c.enabled){if(!c.path||!c.loader)throw new Error("`path` or `loader` missing from `serverSidePagination` object");this.options.paginationPath=c.path,this.options.resultHandlerFn=c.loader,this.options.fResponseHook=c.fResponseHook,this.options.fQueryStringHook=c.fQueryStringHook,this.initWithServerSidePagination()}else this.initWithClientSidePagination(a)}var b,c;return c=ko.pureComputed||ko.computed,b=function(a,b){return null==b?null==a:null!=a?"boolean"==typeof a?a===b:a.toString().toLowerCase().indexOf(b.toString().toLowerCase())>=0||a===b:!1},d.prototype.initObservables=function(){return this.sortDir=ko.observable(this.options.sortDir),this.sortField=ko.observable(this.options.sortField),this.perPage=ko.observable(this.options.perPage),this.currentPage=ko.observable(1),this.filter=ko.observable(""),this.loading=ko.observable(!1),this.rows=ko.observableArray([])},d.prototype.initWithClientSidePagination=function(d){var e;return this.filtering=ko.observable(!1),this.forceFilter=ko.observable(!1),this.filter.subscribe(function(a){return function(){return a.currentPage(1)}}(this)),this.perPage.subscribe(function(a){return function(){return a.currentPage(1)}}(this)),this.rows(d),this.rowAttributeMap=c(function(a){return function(){var b,c,e;if(d=a.rows(),b={},d.length>0){e=d[0];for(c in e)e.hasOwnProperty(c)&&(b[c.toLowerCase()]=c)}return b}}(this)),this.filteredRows=c(function(a){return function(){var b,c;return a.filtering(!0),b=a.filter(),d=a.rows.slice(0),(a.forceFilter()||null!=b&&""!==b)&&(c=a.filterFn(b),d=d.filter(c)),null!=a.sortField()&&""!==a.sortField()&&d.sort(function(b,c){var d,e;return d=ko.utils.unwrapObservable(b[a.sortField()]),e=ko.utils.unwrapObservable(c[a.sortField()]),"string"==typeof d&&(d=d.toLowerCase()),"string"==typeof e&&(e=e.toLowerCase()),"asc"===a.sortDir()?e>d||""===d||null==d?-1:d>e||""===e||null==e?1:0:e>d||""===d||null==d?1:d>e||""===e||null==e?-1:0}),a.filtering(!1),d}}(this)).extend({rateLimit:50,method:"notifyWhenChangesStop"}),this.pagedRows=c(function(a){return function(){var b,c;return b=a.currentPage()-1,c=a.perPage(),a.filteredRows().slice(b*c,(b+1)*c)}}(this)),this.pages=c(function(a){return function(){return Math.ceil(a.filteredRows().length/a.perPage())}}(this)),this.leftPagerClass=c(function(a){return function(){return 1===a.currentPage()?"disabled":void 0}}(this)),this.rightPagerClass=c(function(a){return function(){return a.currentPage()===a.pages()?"disabled":void 0}}(this)),this.total=c(function(a){return function(){return a.filteredRows().length}}(this)),this.from=c(function(a){return function(){return(a.currentPage()-1)*a.perPage()+1}}(this)),this.to=c(function(a){return function(){var b;return b=a.currentPage()*a.perPage(),b>a.total()?a.total():b}}(this)),this.recordsText=c(function(a){return function(){var b,c,d,e,f,g;return c=a.pages(),g=a.total(),b=a.from(),f=a.to(),d=a.options.recordWord,e=a.options.recordWordPlural||d+"s",c>1?b+" to "+f+" of "+g+" "+e:g+" "+(g>1||0===g?e:d)}}(this)),this.showNoData=c(function(a){return function(){return 0===a.pagedRows().length&&!a.loading()}}(this)),this.showLoading=c(function(a){return function(){return a.loading()}}(this)),this.sortClass=function(a){return function(b){return c(function(){return a.sortField()===b?"sorted "+("asc"===a.sortDir()?a.options.ascSortClass:a.options.descSortClass):a.options.unsortedClass})}}(this),this.addRecord=function(a){return function(b){return a.rows.push(b)}}(this),this.removeRecord=function(a){return function(b){return a.rows.remove(b),0===a.pagedRows().length?a.prevPage():void 0}}(this),this.replaceRows=function(a){return function(b){return a.rows(b),a.currentPage(1),a.filter(void 0)}}(this),e=function(a,c,d){var e,f;return function(){var a;a=[];for(e in d)f=d[e],a.push(f);return a}().some(function(d){return b(ko.isObservable(c[d])?c[d]():c[d],a)})},this.filterFn=this.options.filterFn||function(c){return function(d){var f,g,h,i;return g=null==d?"":d,h=[[],{}],f=h[0],i=h[1],g.split(" ").forEach(function(a){var b;return a.indexOf(":")>=0?(b=a.split(":"),i[b[0]]=function(){switch(b[1].toLowerCase()){case"yes":case"true":return!0;case"no":case"false":return!1;case"blank":case"none":case"null":case"undefined":return void 0;default:return b[1].toLowerCase()}}()):f.push(a)}),f=f.join(" "),function(d){var g,h,j;return g=function(){var a;a=[];for(h in i)j=i[h],a.push(function(a){return function(c,e){var f;return(f=a.rowAttributeMap()[c.toLowerCase()])?b(ko.isObservable(d[f])?d[f]():d[f],e):!1}}(this)(h,j));return a}.call(c),a.call(g,!1)<0&&(null!=d.match?d.match(f):e(f,d,c.rowAttributeMap()))}}}(this)},d.prototype.initWithServerSidePagination=function(){var a,b;return b=function(a){return function(b,c){var d,e,f,g;return f=a.options.paginationPath+"?"+function(){var c;c=[],a.options.fQueryStringHook&&(b=a.options.fQueryStringHook(b));for(d in b)g=b[d],c.push(encodeURIComponent(d)+"="+encodeURIComponent(g));return c}().join("&"),e=new XMLHttpRequest,e.open("GET",f,!0),e.setRequestHeader("Content-Type","application/json"),e.onload=function(){return e.status>=200&&e.status<400?c(null,JSON.parse(e.responseText)):c(new Error("Error communicating with server"))},e.onerror=function(){return c(new Error("Error communicating with server"))},e.send()}}(this),a=function(a,b,c,d,e){var f;return f={perPage:a,page:b},null!=c&&""!==c&&(f.filter=c),null!=d&&""!==d&&null!=e&&""!==e&&(f.sortDir=d,f.sortBy=e),f},this.filtering=ko.observable(!1),this.pagedRows=ko.observableArray([]),this.numFilteredRows=ko.observable(0),this.filter.subscribe(function(a){return function(){return a.currentPage(1)}}(this)),this.perPage.subscribe(function(a){return function(){return a.currentPage(1)}}(this)),ko.computed(function(c){return function(){var d;return c.loading(!0),c.filtering(!0),d=a(c.perPage(),c.currentPage(),c.filter(),c.sortDir(),c.sortField()),b(d,function(a,b){var d,e;return c.loading(!1),c.filtering(!1),a?console.log(a):(c.options.fResponseHook&&(b=c.options.fResponseHook(b)),e=b.total,d=b.results,c.numFilteredRows(e),c.pagedRows(d.map(c.options.resultHandlerFn)))})}}(this)).extend({rateLimit:500,method:"notifyWhenChangesStop"}),this.pages=c(function(a){return function(){return Math.ceil(a.numFilteredRows()/a.perPage())}}(this)),this.leftPagerClass=c(function(a){return function(){return 1===a.currentPage()?"disabled":void 0}}(this)),this.rightPagerClass=c(function(a){return function(){return a.currentPage()===a.pages()?"disabled":void 0}}(this)),this.from=c(function(a){return function(){return(a.currentPage()-1)*a.perPage()+1}}(this)),this.to=c(function(a){return function(){var b,c;return b=a.currentPage()*a.perPage(),b>(c=a.numFilteredRows())?c:b}}(this)),this.recordsText=c(function(a){return function(){var b,c,d,e,f,g;return c=a.pages(),g=a.numFilteredRows(),b=a.from(),f=a.to(),d=a.options.recordWord,e=a.options.recordWordPlural||d+"s",c>1?b+" to "+f+" of "+g+" "+e:g+" "+(g>1||0===g?e:d)}}(this)),this.showNoData=c(function(a){return function(){return 0===a.pagedRows().length&&!a.loading()}}(this)),this.showLoading=c(function(a){return function(){return a.loading()}}(this)),this.sortClass=function(a){return function(b){return c(function(){return a.sortField()===b?"sorted "+("asc"===a.sortDir()?a.options.ascSortClass:a.options.descSortClass):a.options.unsortedClass})}}(this),this.addRecord=function(){throw new Error("#addRecord() not applicable with serverSidePagination enabled")},this.removeRecord=function(){throw new Error("#removeRecord() not applicable with serverSidePagination enabled")},this.replaceRows=function(){throw new Error("#replaceRows() not applicable with serverSidePagination enabled")},this.refreshData=function(c){return function(){var d;return c.loading(!0),c.filtering(!0),d=a(c.perPage(),c.currentPage(),c.filter(),c.sortDir(),c.sortField()),b(d,function(a,b){var d,e;return c.loading(!1),c.filtering(!1),a?console.log(a):(c.options.fResponseHook&&(b=c.options.fResponseHook(b)),e=b.total,d=b.results,c.numFilteredRows(e),c.pagedRows(d.map(c.options.resultHandlerFn)))})}}(this)},d.prototype.toggleSort=function(a){return function(b){return function(){return b.currentPage(1),b.sortField()===a?b.sortDir("asc"===b.sortDir()?"desc":"asc"):(b.sortDir(b.options.sortDir),b.sortField(a))}}(this)},d.prototype.prevPage=function(){var a;return a=this.currentPage(),1!==a?this.currentPage(a-1):void 0},d.prototype.nextPage=function(){var a;return a=this.currentPage(),a!==this.pages()?this.currentPage(a+1):void 0},d.prototype.gotoPage=function(a){return function(b){return function(){return b.currentPage(a)}}(this)},d.prototype.pageClass=function(a){return c(function(b){return function(){return b.currentPage()===a?"active":void 0}}(this))},d}()}.call(this);